sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("employeeprofile.controller.Details",{onInit:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);this.oModel=this.getOwnerComponent().getModel("ReportInfoModel");e.getRoute("Details")},fetchusersReport:async function(e){return new Promise(function(o,s){this.oModel.setProperty("/busy",false);var t=e.getParameter("arguments");console.log("arguments",t);var r=t.userId;this.oSFModel.setDeferredGroups(["batchuserpersonalinfo"]);this.oSFModel.callFunction("/userpersonalinfo",{method:"GET",batchGroupId:"batchuserpersonalinfo",urlParameters:{userId:r}});this.oSFModel.callFunction("/userjobinfo",{method:"GET",batchGroupId:"batchuserjobinfo",urlParameters:{userId:r}});this.oSFModel.callFunction("/usersPhoto",{method:"GET",batchGroupId:"batchusersPhoto",urlParameters:{userId:r}});this.oSFModel.callFunction("/compensationinfo",{method:"GET",batchGroupId:"batchcompensationinfo",urlParameters:{userId:r}});this.oSFModel.submitChanges({batchGroupId:"batchuserpersonalinfo",success:function(e){var s=[];if(e.__batchResponses[0].statusCode=="200"){s=e.__batchResponses[0].data.results}if(e.__batchResponses[1].statusCode=="200"){s=e.__batchResponses[0].data.results}if(e.__batchResponses[2].statusCode=="200"){if(s.length){s.forEach(o=>{e.__batchResponses[2].data.results.forEach(e=>{if(o.userId==e.userId){e.photo=e.photo?"data:image/jpeg;base64,"+e.photo.replaceAll("\r\n",""):"";o["photo"]=e}})})}}if(e.__batchResponses[3].statusCode=="200"){s=e.__batchResponses[3].data.results}this.oModel.setProperty("/Users",s);o(true)}.bind(this),error:function(e){s(e)}.bind(this)})}.bind(this))}})});